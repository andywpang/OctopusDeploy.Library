{
  "Id": "ActionTemplates-321",
  "Name": "IIS Website AppFabric Application - Enable Auto-Start",
  "Description": "Configures an AppFabric application to enable Auto-Start on all services for the application.",
  "ActionType": "Octopus.Script",
  "Version": 2,
  "Properties": {
    "Octopus.Action.Script.ScriptBody": "Import-Module ApplicationServer -ErrorAction SilentlyContinue\r\n\r\n$webSiteName = $OctopusParameters['WebSiteName']\r\n$virtualPath = $OctopusParameters['VirtualPath']\r\n\r\nif (!$webSiteName)\r\n{\r\n    Write-Error \"No website name was specified. Please specify the name of the website that contains the AppFabric application.\"    \r\n    exit -2\r\n}\r\n\r\nif (!$virtualPath)\r\n{\r\n    Write-Error \"No virtual path was specified. Please specify the virtual path of the AppFabric application.\"\r\n    exit -2\r\n}\r\n\r\nWrite-Output \"Enabling auto-start for $webSiteName/$virtualPath\"\r\nSet-ASApplication -SiteName $webSitename -VirtualPath $virtualPath -AutoStartMode 'All' -EnableApplicationPool"
  },
  "SensitiveProperties": {},
  "Parameters": [
    {
      "Name": "WebSiteName",
      "Label": "Website Name",
      "HelpText": "The name of the website",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    },
    {
      "Name": "VirtualPath",
      "Label": "Virtual Path",
      "HelpText": "The virtual path for the application or directory",
      "DefaultValue": null,
      "DisplaySettings": {
        "Octopus.ControlType": "SingleLineText"
      }
    }
  ],
  "LastModifiedOn": "2015-09-02T02:23:32.679+00:00",
  "LastModifiedBy": "nshenoy@us.corp.mimeo.com",
  "$Meta": {
    "ExportedAt": "2015-09-02T02:26:59.871Z",
    "OctopusVersion": "2.6.5.1010",
    "Type": "ActionTemplate"
  }
}